##vim文本编辑器
###vi:Visual Interface文本编辑器
* 文本：ASCII，Unicode
* 文本编辑种类
    * 行编辑器：sed
    * 全屏编辑器：vim，vi
 

###vim使用
* vim：模式化的编辑器
    * 基本模式：
        * 编辑模式：命令模式
        * 输入模式：
        * 末行模式：
            * 内置的命令行接口
* 打开文件：
    * vim [OPTION]... FILE...
        * +#：打开文件后，直接让光标处于第#行的行首；如果只是+号表示打开文件光标在最后一行
        * +/PATTERN：打开文件后，直接让光标处于第一个被PATTERN匹配到的行的行首
* 模式转换：
    * 编辑模式 --> 输入模式
        * i：在光标所在处的前面输入
        * o：在当前光标所在行的下面打开一个新行
        * O：在当前光标所在行的上面打开一个新行
        * I：在当前光标所在行的行首输入
        * A：在当前光标所在行的行尾输入
        * c：
        * C：
    * 输入模式 --> 编辑模式
        * ESC
    * 编辑模式 --> 末行模式
        * :
    * 末行模式 --> 编辑模式
        * ESC
* 关闭文件：
    * :q 退出
    * :q!强制退出，丢弃左侧的修改
    * :wq/:x/ZZ 三种方式都是保存退出
    * :w! /path/to/file当前文本保存指定的位置
* 光标跳转
    * 回想一下怎么使用word
        * 拖动滚动栏
            * ctrl+f向文件尾部部翻一屏
            * ctrl+b向文件首部部翻一屏
            * ctrl+d向文件尾部部翻半屏
            * ctrl+u向文件首部翻半屏
        * 单词间跳转
            * w：下一个单词的词首
            * e：当前或一下一个单词的词尾
            * b：当前后者前一个单词的词首
            * h：左移一个字符，可以接受number跳转到当前光标的相对的字符
            * l：右移一个字符，可以接受number跳转到当前光标的相对的字符
            * k：上移动一行，可以接受number跳转到当前光标的相对的行
            * j：下移动一行，可以接受number跳转到当前光标的相对的行
        * 行间移动
            * number gg：跳转至指定的number行 gg表示调转到行首
            * G：跳转至行尾
        

* 编辑命令
    * 字符编辑：
        * x：删除光标处的字符；#x删除光标处起始的位置
        * xp：交换光标所在处的字符及其后面字符的位置
    * 替换命令(r,replace)
        * r:替换光标所在处的单个字符(number+r+所要替换的字符，可以替换多个)
        * R：替换光标所在处后的多个字符
    * 删除命令
        * d:删除命令，可结合光标跳转字符，实现范围删除
            * d$，d^，d0，dw，de，db等
        * dd：删除光标所在的行；#dd多行删除
* 复制命令(y，yank)
    * y：复制，工作行为相似于d命令
        * y$，y^，y0，yw，ye，yb等
    * yy：复制行；#yy复制多行
* 改变命令(c，change)
    * c：修改
        * 编辑模式 --> 输入模式
        * c$，c^，c0，cw，ce，cb等
    * cc删除并输入新内容；#cc多行删除
* 粘贴命令(p，put，paste)
    * p：缓冲区的如果为整行，则粘贴当前光标所在行的下方；否则，则粘贴至当前光标所在处的后面
    * P：缓冲区的如果为整行，则粘贴当前光标所在行的上方；否则，则粘贴至当前光标所在处的前面
* 撤销操作
    * u(undo)：撤销此前的操作
        * #u：撤销指定次数的操作
    * ctrl+r：撤销此前的撤销
    * .：重复前一个编辑操作
* 可视化模式：
    * v：按字符选定
    * V：按行选定
    * ctrl + v：一次性选择和取消多行
    	* del删除
    	* r替换
    	* I/A在前/后插入内容
    	* shift+<或>缩进
    >Not：进程结合编辑命令：d，c，y


* 末行模式
    * 地址定界
        * start_pos，end_pos
            * #：具体第#行，例如2表示第二行
            * #，#：表示从#行起始，到右侧的#行结束
            * #，+#：从左侧#表示的行起始，加上右侧#表示的行数
            * .：当前行
            * $：最后一行
                * .，$-1从当前行到倒数第二行
            * %：全文，相当于1，$
            * /pat1/，/pat2/：从第一次被pat1模式匹配到的行开始，一直到第一次被pat2匹配到的行结束
                * #，/pat/
                * /pat/，$ 
     > 使用方式：后面紧跟一个编辑命令(无需空格)<br>
     > d<br>
     > y<br>
     > w /path/to/file：将范围内的行另存至指定文件中，如果文件存在强制覆盖写入w! /path/to/file<br>
     > r /path/to/file：在指定位置插入指定文件中的所有行<br>

    * 查找
        * /pattren：从当前光标所在处向文件尾部查找
        * ?pattren：从当前光标所在处向文件首部查找
            * n：与命令同方向
            * N：与命令反方向

    * 查找并替换
        * s：在末行模式下完成查找替换操作
            * s/要查找的内容/替换为的内容/修饰符
                * 要查找的内容：可使用模式
                * 替换为的内容：不能使用模式，但可以使用\1，\2，....等后向引用；还可以使用"&"引用前面查找时找到的整个内容
            * 修饰符：
                * i：忽略大小写
                * g：全局替换；不加g默认情况下，每一行只替换第一次出现

            > 查找替换中的分隔符/可替换为其它字符，例如<br>
            > s###<br>
            > s@@@<br>
            > +，？需要转义，特别注意

    * 练习：
        * 复制/etc/grub2.cfg至/tmp/目录，用查找替换命令删除/tmp/grub2.cfg文件中的首行的空白字符
            * :%s/^[[:space:]]\+//
        * 复制/etc/init.d/functions文件至/tmp目前，用查找替换命令为/tmp/function的每行开头为空白字符的行的行首添加一个"#"号
            * :%s/^[[:space:]]/#&/


* 多文件模式
    * vim file1 file2 file3 ....
        * ：next 下一个
        * ：prev 前一个
        * ：first 第一个
        * ：last 最后一个
        * ：wall/wqall保存或者保存退出
        * ：qall退出所有
* 窗口分割模式
    * vim -o|O file1 file2 ...
    * -o：水平分割
    * -O：垂直分割
    * 在窗口间切换：ctrl+w，上下左右方向键即可
* 单个文件窗口分割
    * ctrl+w，s：split水平分割
    * ctrl+w，v：vertical垂直分割

* 定制常用的vim的工作特性
    * 配置文件： 
        * 全局：/etc/vimrc
        * 个人：~/.vimrc
    * set
        * 行号：
            * 显示：set nu
            * 取消：set nonu 默认
        * 括号匹配
            * 启用：set sm 默认
            * 禁用：set nosm
        * 自动缩进
            * 启用：set ai
            * 禁用：set noai 默认
        * 高亮搜索
            * 启用：set hlsearch 默认
            * 禁用：set nohlsearch
        * 缩进字符：
            * set ts=4 4个空格
            * set ts=8 8个空格 
        * 语法高亮(显示颜色)
            * 启用：syntax on 默认
            * 禁用：syntax off
        * 忽略字符大小写
            * 启用：set ic
            * 禁用：set noic 

        

##vim练习教程请使用vimtutor